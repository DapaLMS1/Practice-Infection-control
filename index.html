<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .flip-card {
      perspective: 1000px;
    }

    .flip-card-inner {
      width: 100%;
      /* IMPORTANT: Removed the fixed height and increased min-height significantly */
      min-height: 280px; /* Adjust this value. It should be tall enough for your longest card content. */
      transition: transform 0.8s ease;
      transform-style: preserve-3d;
      position: relative;
    }

    .flipped .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%; /* Keep this so front/back fill the inner container */
      backface-visibility: hidden;
      border-radius: 0.75rem;
      padding: 1.5rem; /* Good padding for text */
      display: flex;
      flex-direction: column;
      /* CRITICAL CHANGE: Removed justify-content and align-items center
                          to allow content to flow from the top and wrap naturally */
      /* justify-content: center; */
      /* align-items: center; */
      text-align: center; /* Keep text centered within its available space */
    }

    .flip-card-back {
      transform: rotateY(180deg);
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body class="bg-gray-100 p-4">

  <div class="text-center mb-6">
    <h2 class="text-2xl font-bold text-[#532A8C] mb-1">Reflection Activity: Your Practice & Infection Control</h2>
    <p class="text-sm text-gray-700">Click <strong>"Flip"</strong> to reveal the answer. Then click <strong>"Next"</strong> to continue.</p>
  </div>

  <div id="card-container" class="flex flex-col items-center space-y-6">

        <div class="card-block" id="card-0">
      <div class="flip-card w-full max-w-xl overflow-hidden mx-auto">
        <div class="flip-card-inner">
          <div class="flip-card-front bg-[#F2F2F2] text-[#532A8C] w-full">
            <h3 class="text-base font-semibold mb-2">Cleaning First:</h3>
            <p class="text-sm">Why is it essential to <strong>clean</strong> a surface thoroughly <em>before</em> you disinfect it?</p>
          </div>
          <div class="flip-card-back bg-[#C3ACE8] text-black w-full">
            <h3 class="text-base font-semibold mb-2">Think About It:</h3>
            <p class="text-sm">Organic material shields germs. Cleaning removes this barrier, allowing disinfectants to work effectively.</p>
          </div>
        </div>
      </div>
      <div class="text-center mt-4 space-x-2">
        <button class="flip-btn font-bold bg-[#532A8C] text-white px-5 py-2 rounded" onclick="flipCard(0)">Flip</button>
        <button class="next-btn hidden font-bold bg-[#7ABF49] hover:bg-[#96BF78] text-white px-5 py-2 rounded" onclick="nextCard()">Next</button>
      </div>
    </div>

        <div class="card-block hidden" id="card-1">
      <div class="flip-card w-full max-w-xl overflow-hidden mx-auto">
        <div class="flip-card-inner">
          <div class="flip-card-front bg-[#F2F2F2] text-[#532A8C] w-full">
            <h3 class="text-base font-semibold mb-2">Disinfection Time:</h3>
            <p class="text-sm">Do you allow enough <strong>wet contact time</strong> for disinfectants to work?</p>
          </div>
          <div class="flip-card-back bg-[#C3ACE8] text-black w-full">
            <h3 class="text-base font-semibold mb-2">Consider This:</h3>
            <p class="text-sm">Disinfectants need time to kill pathogens. If surfaces dry too fast, they may remain contaminated.</p>
          </div>
        </div>
      </div>
      <div class="text-center mt-4 space-x-2">
        <button class="flip-btn font-bold bg-[#532A8C] text-white px-5 py-2 rounded" onclick="flipCard(1)">Flip</button>
        <button class="next-btn hidden font-bold bg-[#7ABF49] hover:bg-[#96BF78] text-white px-5 py-2 rounded" onclick="nextCard()">Next</button>
      </div>
    </div>

        <div class="card-block hidden" id="card-2">
      <div class="flip-card w-full max-w-xl overflow-hidden mx-auto">
        <div class="flip-card-inner">
          <div class="flip-card-front bg-[#F2F2F2] text-[#532A8C] w-full">
            <h3 class="text-base font-semibold mb-2">Using Barriers:</h3>
            <p class="text-sm">What do you cover with an <strong>impervious barrier</strong>? Why?</p>
          </div>
          <div class="flip-card-back bg-[#C3ACE8] text-black w-full">
            <h3 class="text-base font-semibold mb-2">Reflect On:</h3>
            <p class="text-sm">Barriers protect equipment from contamination, especially in hard-to-clean areas.</p>
          </div>
        </div>
      </div>
      <div class="text-center mt-4 space-x-2">
        <button class="flip-btn font-bold bg-[#532A8C] text-white px-5 py-2 rounded" onclick="flipCard(2)">Flip</button>
        <button class="next-btn hidden font-bold bg-[#7ABF49] hover:bg-[#96BF78] text-white px-5 py-2 rounded" onclick="nextCard()">Next</button>
      </div>
    </div>

        <div class="card-block hidden" id="card-3">
      <div class="flip-card w-full max-w-xl overflow-hidden mx-auto">
        <div class="flip-card-inner">
          <div class="flip-card-front bg-[#F2F2F2] text-[#532A8C] w-full">
            <h3 class="text-base font-semibold mb-2">One Improvement:</h3>
            <p class="text-sm">What’s <strong>one thing</strong> you could improve in your infection control routine?</p>
          </div>
          <div class="flip-card-back bg-[#C3ACE8] text-black w-full">
            <h3 class="text-base font-semibold mb-2">Your Action:</h3>
            <p class="text-sm">Think of a daily habit—barrier use, wet time, or surface prep—that you can tighten up today.</p>
          </div>
        </div>
      </div>
      <div class="text-center mt-4 space-x-2">
        <button class="flip-btn font-bold bg-[#532A8C] text-white px-5 py-2 rounded" onclick="flipCard(3)">Flip</button>
        <button class="restart-btn hidden font-bold bg-[#532A8C] hover:bg-[#9D8ABB] text-white px-5 py-2 rounded" onclick="restart()">Start Again</button>
      </div>
    </div>

  </div>

  <script>
    let currentCardIndex = 0;

    function flipCard(index) {
      const card = document.getElementById(`card-${index}`);
      card.classList.add('flipped');
      card.querySelector('.flip-btn').classList.add('hidden');

      if (index < 3) {
        const nextBtn = card.querySelector('.next-btn');
        if (nextBtn) nextBtn.classList.remove('hidden');
      } else {
        const restartBtn = card.querySelector('.restart-btn');
        if (restartBtn) restartBtn.classList.remove('hidden');
      }
    }

    function nextCard() {
      const current = document.getElementById(`card-${currentCardIndex}`);
      current.classList.add('hidden');
      current.classList.remove('flipped');
      currentCardIndex++;
      const next = document.getElementById(`card-${currentCardIndex}`);
      if (next) next.classList.remove('hidden');
    }

    function restart() {
      document.getElementById(`card-${currentCardIndex}`).classList.add('hidden');
      document.getElementById(`card-${currentCardIndex}`).classList.remove('flipped');
      currentCardIndex = 0;
      const first = document.getElementById(`card-0`);
      first.classList.remove('hidden');
      const flip = first.querySelector('.flip-btn');
      if (flip) flip.classList.remove('hidden');
      const restartBtn = first.querySelector('.restart-btn');
      if (restartBtn) restartBtn.classList.add('hidden');
    }
  </script>

</body>
</html>
